**タイトル:**  
未経験から100日後にGTMのプロになる話【Day 22】  
コンバージョンリンカーとクロスドメイン計測 〜コンバージョンの精度を向上させる方法〜

---

**概要（リード文）:**  
「Google広告のコンバージョン計測がうまく機能しない…？」  
「異なるドメイン間でコンバージョンが途切れてしまう…？」  
この問題を解決するために、GTMの「コンバージョンリンカー」と「クロスドメイン計測」を活用し、コンバージョンの精度を向上させる方法を解説します！

---

## **本文**

### ■ コンバージョンが正しく計測されない理由

Google広告やGA4のコンバージョン計測が正しく機能しない原因として、次の2つがよくあります。

1. **コンバージョンリンカーの未設定** → Google広告のコンバージョン計測に必要な「ファーストパーティCookie」の設定ができていない。
2. **クロスドメイン計測が未設定** → ECサイトや別ドメインの決済ページに遷移する際に、ユーザー情報が引き継がれず計測が途切れてしまう。

この2つの問題をGTMで解決する方法を見ていきましょう！

---

### **① コンバージョンリンカーの設定（Google広告向け）**

Google広告のコンバージョンを正しく計測するために、「コンバージョンリンカー」タグを設定します。

#### **1. GTMでコンバージョンリンカーを追加する**

1. GTMの「**タグ**」メニューを開く。
2. 「**新規**」をクリックし、タグの種類を「**Google 広告のコンバージョン リンカー**」に設定。
3. 「**このタグを発火させるトリガー**」を「**全ページビュー**」に設定。
4. タグ名を「Google 広告 コンバージョンリンカー」にして保存。

✅ **これで、Google広告のコンバージョン計測の精度が向上します！**

---

### **② クロスドメイン計測の設定（Googleアナリティクス4向け）**

ECサイトなどでは、決済ページが別ドメイン（例：`checkout.example.com`）に遷移することが多く、デフォルトの設定ではGA4のセッションが途切れてしまいます。

この問題を解決するために「クロスドメイン計測」を設定します。

#### **1. GA4の管理画面でクロスドメイン計測を有効化**

1. Google Analytics 4の管理画面を開く。
2. 左メニューの「管理」→「データストリーム」を選択。
3. 対象のウェブストリームを選択し、「タグ設定のカスタマイズ」を開く。
4. 「クロスドメイン設定」をクリックし、追跡対象のドメインを追加。
   - 例： `example.com, checkout.example.com`
5. 「保存」をクリック。

✅ **これで、異なるドメイン間のユーザー情報が引き継がれ、GA4のセッションが維持されます！**

---

### **③ GTMでクロスドメイン対応のGA4タグを設定する**

#### **1. GA4の測定IDを変数に設定する**

1. GTMの「**変数**」メニューを開く。
2. 「**新規**」をクリックし、変数の種類を「**定数**」に設定。
3. 測定ID（例：`G-XXXXXXXXXX`）を入力。
4. 変数名を「GA4 測定ID」として保存。

#### **2. GA4のタグをクロスドメイン対応に変更**

1. GTMの「**タグ**」メニューを開く。
2. 既存の「GA4 設定タグ」を開く。
3. 「**設定フィールドを追加**」をクリック。
4. **フィールド名:** `linker`、値: `true` を追加。
5. **フィールド名:** `cookie_domain`、値: `auto` を追加。
6. 保存。

✅ **これで、クロスドメイン間でGA4のトラッキングが正しく機能するようになります！**

---

### **④ プレビューモードで動作確認**

タグを本番適用する前に、必ずプレビューモードでテストしましょう。

1. GTMの「**プレビュー**」を開く。
2. 計測対象のサイトでGoogle広告のコンバージョンが発火するアクションを実行。
3. デバッグツールの「Tags Fired（発火したタグ）」にGoogle広告のタグがあるか確認。
4. 別ドメインに遷移し、GA4の計測が維持されているか確認。

✅ **問題なくデータが送信されていることを確認したら、GTMの「送信」ボタンを押して公開！**

---

### **⑤ Google広告とGA4のコンバージョン計測を統合する**

GA4で計測しているコンバージョンデータをGoogle広告にも反映させると、広告の最適化がさらに向上します。

#### **1. GA4のコンバージョンをGoogle広告とリンク**

1. Google Analytics 4の管理画面を開く。
2. 左メニューの「管理」→「Google 広告リンク」を選択。
3. 「リンクを追加」をクリックし、Google広告のアカウントを選択。
4. 「コンバージョンのエクスポートを有効にする」にチェックを入れる。
5. 保存。

✅ **これで、GA4のコンバージョンデータがGoogle広告にも反映され、広告の最適化がより正確になります！**

---

### **■ まとめ 〜コンバージョン計測の精度を向上させよう！〜**

今回の学びを整理すると…

✅ **「コンバージョンリンカー」を設定すると、Google広告のコンバージョン計測の精度が向上！**  
✅ **「クロスドメイン計測」を有効化すると、異なるドメイン間でGA4のセッションが維持できる！**  
✅ **GTMで「linker」や「cookie_domain」の設定を行い、正確な計測を実現！**  
✅ **Google広告とGA4のコンバージョンデータを統合し、広告の最適化を強化！**

---

### **■ 明日の予告 〜Google広告リマーケティングタグの実装〜**

次回は、**「Google広告のリマーケティングタグ」** を設定し、

- **「サイト訪問者をターゲティングした広告配信」**
- **「特定のユーザー行動に基づく広告最適化」**

といった方法を解説します！

