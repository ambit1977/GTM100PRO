**タイトル:**  
未経験から100日後にGTMのプロになる話【Day 24】  
Facebookピクセルの設定 〜Facebook広告のコンバージョンを正確に測定！〜

---

**概要（リード文）:**  
「Facebook広告経由のコンバージョンを正しく計測したい！」  
「特定のページを訪問したユーザーをFacebookリマーケティングで狙いたい！」  
そんなときに必要なのが **Facebookピクセル** です。本日は、GTMを使ってFacebookピクセルを設定し、Facebook広告のコンバージョン計測を行う方法を解説します！

---

## **本文**

### ■ Facebookピクセルとは？

Facebookピクセルは、
✅ **「Facebook広告経由のコンバージョンを計測するためのタグ」**  
✅ **「サイト訪問者の行動を記録し、リマーケティングリストを作成する」**  
✅ **「Facebook広告の最適化（イベントに基づく最適化）を可能にする」**  

例えば、
- **ECサイトで商品ページを閲覧したユーザーに対して、Facebook広告を配信する**
- **会員登録や問い合わせを行ったユーザーを計測し、広告の費用対効果を測定する**

といったことが可能になります。

では、GTMを使ってFacebookピクセルを設定していきましょう！

---

### **① FacebookピクセルのIDを取得する**

まずはFacebook広告マネージャーからFacebookピクセルのIDを取得します。

#### **1. Facebookピクセルを作成する**

1. [Facebook Business Manager](https://business.facebook.com/) にアクセス。
2. 「イベントマネージャー」→「データソース」→「ピクセル」を選択。
3. 「新しいピクセルを作成」をクリック。
4. 「ピクセルの名前」を入力し、「続行」をクリック。
5. 「手動でピクセルを設定する」を選択し、「次へ」をクリック。
6. 「FacebookピクセルID」を取得。

✅ **このピクセルID（例：`123456789012345`）をGTMで設定します！**

---

### **② GTMでFacebookピクセルのタグを作成する**

#### **1. Facebookピクセルの基本タグを作成する**

1. GTMの「**タグ**」メニューを開く。
2. 「**新規**」をクリックし、タグの種類を「**カスタムHTML**」に設定。
3. 以下のFacebookピクセルコードを貼り付ける。

```html
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '123456789012345'); // ここにFacebookピクセルIDを入力
  fbq('track', 'PageView');
</script>
```

4. 「**このタグを発火させるトリガー**」を「**全ページビュー**」に設定。
5. タグ名を「Facebookピクセル - 基本タグ」にして保存。

✅ **これで、Facebookピクセルが全ページに適用され、ページビューを計測できるようになります！**

---

### **③ Facebookのコンバージョンイベントを設定する**

Facebookでは、特定のイベントを計測するために、**標準イベント**を設定できます。

| 計測するコンバージョン | イベント名 |
|---|---|
| 商品を閲覧 | `ViewContent` |
| 商品をカートに追加 | `AddToCart` |
| 購入完了 | `Purchase` |
| 会員登録 | `CompleteRegistration` |

例えば、「購入完了（Purchase）」のイベントを設定するには、

1. GTMの「**タグ**」メニューを開く。
2. 「**新規**」をクリックし、タグの種類を「**カスタムHTML**」に設定。
3. 以下のFacebookピクセルイベントコードを貼り付ける。

```html
<script>
  fbq('track', 'Purchase', {
    value: '{{Conversion Value}}',
    currency: 'JPY'
  });
</script>
```

4. 「**トリガー**」を「購入完了ページ（thank-you.html）」に設定。
5. タグ名を「Facebookピクセル - 購入完了」にして保存。

✅ **これで、購入が完了したときにFacebookにコンバージョンデータが送信されます！**

---

### **④ プレビューモードで動作確認**

タグを本番適用する前に、必ずプレビューモードでテストしましょう。

1. GTMの「**プレビュー**」を開く。
2. 計測対象のサイトで購入や問い合わせを実行。
3. デバッグツールの「Tags Fired（発火したタグ）」にFacebookピクセルのタグがあるか確認。
4. Facebookイベントマネージャーの「テストイベント」でデータが反映されているか確認。

✅ **問題なくデータが送信されていることを確認したら、GTMの「送信」ボタンを押して公開！**

---

### **⑤ Facebook広告でリマーケティングを活用する**

Facebookピクセルで取得したデータを活用し、広告を最適化しましょう。

#### **1. Facebook広告マネージャーでリマーケティングリストを作成**

1. Facebook広告マネージャーを開く。
2. 「オーディエンス」→「カスタムオーディエンス」を選択。
3. 「ウェブサイトの訪問者」を選択。
4. ターゲットとするイベント（例：`AddToCart` や `Purchase`）を選択。
5. 保存。

✅ **これで、Facebook広告でリマーケティングができるようになります！**

---

### **■ まとめ 〜Facebookピクセルで広告の効果を最大化！〜**

今回の学びを整理すると…

✅ **GTMで「Facebookピクセル」を設定し、ページビューを計測！**  
✅ **特定のイベント（購入・カート追加など）を設定し、コンバージョンを計測！**  
✅ **「プレビューモード」でテストし、Facebookイベントマネージャーでデータを確認！**  
✅ **Facebook広告のリマーケティングを活用し、効果的な広告配信を実現！**

---

### **■ 明日の予告 〜その他のサードパーティタグの統合〜**

次回は、**「Twitterコンバージョンタグ」や「LinkedIn Insightタグ」** など、

- **「主要なサードパーティ計測タグの設定」**
- **「GTMでの統合管理のコツ」**

を解説します！

